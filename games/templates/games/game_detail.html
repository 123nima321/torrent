{% extends 'games/base.html' %}

{% block title %}{{ game.name }} - GameTorrent{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="mb-6">
        <a href="{% url 'game_list' %}" class="text-blue-400 hover:text-blue-300 transition">
            ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É –∏–≥—Ä
        </a>
    </nav>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="lg:col-span-2">
            <div class="card-bg rounded-lg overflow-hidden">
                <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
                {% if game.image %}
                    <img 
                        src="{{ game.image.url }}" 
                        alt="{{ game.name }}"
                        class="w-full h-96 object-cover"
                    >
                {% else %}
                    <div class="w-full h-96 bg-slate-700 flex items-center justify-center">
                        <span class="text-8xl">üéÆ</span>
                    </div>
                {% endif %}

                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–µ -->
                <div class="p-6">
                    <h1 class="text-3xl font-bold text-white mb-4">{{ game.name }}</h1>
                    
                    <!-- –ú–µ—Ç–∫–∏ -->
                    <div class="flex items-center gap-3 mb-6">
                        <span class="px-3 py-1 bg-blue-600 rounded-full text-sm">{{ game.category }}</span>
                        <span class="px-3 py-1 bg-green-600 rounded-full text-sm">{{ game.platform }}</span>
                        <span class="px-3 py-1 bg-purple-600 rounded-full text-sm">üì¶ {{ game.memory }} –ì–ë</span>
                    </div>

                    <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold text-white mb-3">–û–ø–∏—Å–∞–Ω–∏–µ</h2>
                        <div class="text-gray-300 leading-relaxed">
                            {{ game.description|linebreaks }}
                        </div>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è -->
                    <div class="flex gap-4">
                        <button class="btn-primary text-lg px-6 py-3">
                            ‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å —Ç–æ—Ä—Ä–µ–Ω—Ç
                        </button>
                        <button class="btn-primary text-lg px-6 py-3">
                            üîó Magnet —Å—Å—ã–ª–∫–∞
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="lg:col-span-1">
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ -->
            <div class="sidebar-bg rounded-lg p-4 mb-4">
                <h3 class="text-lg font-semibold text-white mb-4">üìÅ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ</h3>
                <div class="space-y-3 text-sm">
                    <div class="flex justify-between">
                        <span class="text-muted">–†–∞–∑–º–µ—Ä:</span>
                        <span class="text-white">{{ game.memory }} –ì–ë</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-muted">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</span>
                        <span class="text-white">{{ game.platform }}</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-muted">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</span>
                        <span class="text-white">{{ game.category }}</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-muted">–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:</span>
                        <span class="text-white">{{ game.created_at|date:"d.m.Y" }}</span>
                    </div>
                </div>
            </div>

            <!-- –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è -->
            <div class="sidebar-bg rounded-lg p-4 mb-4">
                <h3 class="text-lg font-semibold text-white mb-4">üíª –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h3>
                <div class="space-y-3 text-sm">
                    <div>
                        <div class="text-muted mb-1">–û–°:</div>
                        <div class="text-white">Windows 10/11 (64-bit)</div>
                    </div>
                    <div>
                        <div class="text-muted mb-1">–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:</div>
                        <div class="text-white">Intel Core i5 –∏–ª–∏ AMD Ryzen 5</div>
                    </div>
                    <div>
                        <div class="text-muted mb-1">–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å:</div>
                        <div class="text-white">8 –ì–ë</div>
                    </div>
                    <div>
                        <div class="text-muted mb-1">–í–∏–¥–µ–æ–∫–∞—Ä—Ç–∞:</div>
                        <div class="text-white">GTX 1060 –∏–ª–∏ RX 580</div>
                    </div>
                    <div>
                        <div class="text-muted mb-1">–ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ:</div>
                        <div class="text-white">{{ game.memory }} –ì–ë</div>
                    </div>
                </div>
            </div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–∑–¥–∞—á–∏ -->
            <div class="sidebar-bg rounded-lg p-4">
                <h3 class="text-lg font-semibold text-white mb-4">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–∑–¥–∞—á–∏</h3>
                <div class="space-y-3 text-sm">
                    <div class="flex justify-between">
                        <span class="text-muted">–°–∏–¥–∞—é—â–∏–µ:</span>
                        <span class="text-green-400">142</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-muted">–õ–∏—á–∞—é—â–∏–µ:</span>
                        <span class="text-yellow-400">28</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-muted">–°–∫–∞—á–∞–Ω–æ:</span>
                        <span class="text-white">1,247 —Ä–∞–∑</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-muted">–î–æ–±–∞–≤–ª–µ–Ω:</span>
                        <span class="text-white">{{ game.created_at|date:"d.m.Y" }}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–æ—Ö–æ–∂–∏–µ –∏–≥—Ä—ã -->
    {% if related_games %}
        <div class="mt-12">
            <h2 class="text-2xl font-bold text-white mb-6">üéÆ –ü–æ—Ö–æ–∂–∏–µ –∏–≥—Ä—ã</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                {% for related_game in related_games %}
                    <div class="card-bg rounded-lg overflow-hidden hover-card cursor-pointer">
                        <a href="{% url 'game_detail' related_game.pk %}" class="block">
                            {% if related_game.image %}
                                <img 
                                    src="{{ related_game.image.url }}" 
                                    alt="{{ related_game.name }}"
                                    class="w-full h-32 object-cover"
                                >
                            {% else %}
                                <div class="w-full h-32 bg-slate-700 flex items-center justify-center">
                                    <span class="text-2xl">üéÆ</span>
                                </div>
                            {% endif %}
                            
                            <div class="p-3">
                                <h4 class="font-semibold text-white text-sm mb-2">{{ related_game.name }}</h4>
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="px-2 py-1 bg-blue-600 text-xs rounded">{{ related_game.category }}</span>
                                    <span class="text-xs text-muted">{{ related_game.memory }} –ì–ë</span>
                                </div>
                            </div>
                        </a>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}
